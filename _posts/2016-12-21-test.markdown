---
layout: post
title:  "Pendulums and automation"
date:   2016-12-21 00:27:00
categories: programming
use_math: true
---


There will be two topics to this post. The first one will be about pendulums and the second one will be about automation. The topics aren't related, but I put them together anyways. I hope you enjoy reading about them!


## Pendulums

Up to this current point, I have taken a few courses that deal with simple harmonic motion. PHYS 121, PHYS 122, AMATH 251, AMATH 351 are only some of the courses that have covered this topic. It occurs so frequently in my AMATH courses that I thought it would very selfish of me to hord all the knowledge to myself.


Simple harmonic motion is used to model periodic motion, motion that repeats itself after a set period of time. Some examples would be a spring or a pendulum. In applied mathematics there is an attraction to this subject as simple harmonic motion occurs all over the place. Starting off and understanding something simple as the pendulum, we can work on tackling more complicated problems.



When we think about a simple pendulum, we think of a string attached to a pivot on one end and a heavy mass attached on the other $($assuming string is massless$)$. Something like this:

![image]({{ site.url }}/assets/pendulum.jpg)

Since we are talking about applied mathematics here, then we need some sort of equation to work with. So how does one turn the pendulum motion into an equation?


One thing we can start off with is the $F = ma$ equation $($Newton's third law$)$. The $F$ is the net force and in our case will be the force acting on the mass hanging on to the string, $m$ the mass and $a$ the acceleration of the mass. Since we are dealing with the pendulum then what we will be using to keep track of position will be the angle $($$\theta$$)$ of the string from the pendulum's equilibrium position. We now upgrade our image to the following:


![image]({{ site.url }}/assets/updated_pendulum.jpg)


To understand the net force on the mass, we need to consider all the forces acting on the mass. These forces will be gravity and tension of the string. By understanding the forces acting upon the mass we can then understand the motion induced by the forces:

![image]({{ site.url }}/assets/forces_pendulum.jpg)


The black force is caused by tension of the string and the blue force is caused by gravity. The gravity force can be broken down to the two red forces with the help of geometry. Since the mass on the string is not flying off the string then it must be the case that $F_g cos(\theta) = F_T$ and they cancel each other out. Therefore, the net force is $F = - mg sin(\theta)$. 




For the angle, $\theta$ is the angle, then velocity is $\theta'$ and acceleration is $\theta''$. If we want to consider the amount of distance the mass on the pendulum covered with a change of $\theta$ in the angle, then the distance must be the arc length covered by the motion - which would be $\theta l$ where $l$ is the length of the string $($ if the pendulum was to do a full rotation, then that would be the circumference of a circle of radius - $l$, $2 \pi l$ $)$. Therefore the acceleration with respect to position $($not angle$)$ must be $l \theta''$. Using all this information we can derive the following:


$F = ma$


$- m g sin(\theta) = m l \theta''$


$ - g sin(\theta) = l \theta''$


$ \theta'' + \frac{g}{l}sin(\theta) = 0$



What we have derived is a differential equation for the motion of the pendulum. There is some sort of function $\theta$ that describes the angle of the pendulum from equilibrium as a function of $t$, time. Now whatever that function may be, it must satisfy out derived differential equation. One thing we can observe from our equation is that it does not depend on mass $($ no matter what the mass is on the pendulum, the motion will not be changed $)$. We will now work on solving this equation.


One way we can solve this differential equation is by getting rid of the $sin$. We can use the fact that for small $\theta$, $\theta ~= sin(\theta)$. This transforms our differential equation to: $\theta'' + \frac{g}{l}\theta = 0$ for which the solution is of the form $\theta = A sin(\sqrt(\frac{g}{l}) + B cos(\sqrt(\frac{g}{l}))$ where $A$ and $B$ are constants.


If we decide to solve the original equation with the $sin$ we might as well work on approximation techniques in order to save some time. One well known method is called the Euler method. In the Euler method we have an expression for the derivative of the form $y' = f(t,y(t))$ and a starting point $y_0$ where $y(t_0) = y_0$. If we recall, $y'$ is the slope of the tangent of the curve $y$. Using the slope and the starting point $y_0$, we can approximate for the next value of the function, $y_1$ at $t = t_0+\delta t$ as  $y(t_0 + \delta t) = y_1 = y_0 + f(t_0,y_0)\delta t$. Here is a great image from wikipedia to help visualize the explanation:


![image]({{ site.url }}/assets/euler_method.jpg)


The Euler method can be extended to our differential equation as well. I employed the Euler method, the $sin$ approximation  as well as a different method called the RK4 ~ Runge-Kutta to the pendulum problem in order to help visualize the approximation techniques right over [here]({{ site.url }}/pendulum/simple_pendulum/index.html). The RK4 is the most accurate, closely followed by the Euler and then finally the small $\theta$ approximation. You can play around with the initial conditions to see the differences in approximation. For the most part, the appoximations match each other fairly well, but for some initial values they really differ ( I recommed setting angle ~ 236, dtheta - 15, damping - 0, length - 150, gravity - 9.8 and selecting all the  approxiation techniques). The application also has the damping setting that you can play around with. I won't say much about it as you can discover for yourself what it does.


$($There is another part to the web app for the spring pendulum that I haven't yet finished. It will be finished for another post.$)$







